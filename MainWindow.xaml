<Window x:Class="Stalker2LocalizationManager.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="Localization Manager" Height="600" Width="900"
        WindowStartupLocation="CenterScreen"
        Background="#F5F5F5"
        FontFamily="Segoe UI">
    <Window.Resources>
        <!-- Modern Button Style -->
        <Style x:Key="ModernButton" TargetType="Button">
            <Setter Property="Background" Value="#2196F3"/>
            <Setter Property="Foreground" Value="White"/>
            <Setter Property="BorderThickness" Value="0"/>
            <Setter Property="Padding" Value="15,10"/>
            <Setter Property="FontSize" Value="14"/>
            <Setter Property="FontWeight" Value="SemiBold"/>
            <Setter Property="Cursor" Value="Hand"/>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="Button">
                        <Border Background="{TemplateBinding Background}" 
                                CornerRadius="6" 
                                Padding="{TemplateBinding Padding}">
                            <ContentPresenter HorizontalAlignment="Center" VerticalAlignment="Center"/>
                        </Border>
                        <ControlTemplate.Triggers>
                            <Trigger Property="IsMouseOver" Value="True">
                                <Setter Property="Background" Value="#1976D2"/>
                            </Trigger>
                            <Trigger Property="IsEnabled" Value="False">
                                <Setter Property="Background" Value="#CCCCCC"/>
                                <Setter Property="Foreground" Value="#888888"/>
                            </Trigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>

        <!-- Primary Button Style -->
        <Style x:Key="PrimaryButton" TargetType="Button" BasedOn="{StaticResource ModernButton}">
            <Setter Property="Background" Value="#4CAF50"/>
            <Setter Property="FontSize" Value="16"/>
            <Setter Property="Padding" Value="30,15"/>
            <Style.Triggers>
                <Trigger Property="IsMouseOver" Value="True">
                    <Setter Property="Background" Value="#45A049"/>
                </Trigger>
            </Style.Triggers>
        </Style>

        <!-- Secondary Button Style -->
        <Style x:Key="SecondaryButton" TargetType="Button" BasedOn="{StaticResource ModernButton}">
            <Setter Property="Background" Value="#FF9800"/>
            <Style.Triggers>
                <Trigger Property="IsMouseOver" Value="True">
                    <Setter Property="Background" Value="#F57C00"/>
                </Trigger>
            </Style.Triggers>
        </Style>

        <!-- Card Style -->
        <Style x:Key="CardStyle" TargetType="Border">
            <Setter Property="Background" Value="White"/>
            <Setter Property="CornerRadius" Value="8"/>
            <Setter Property="Padding" Value="20"/>
            <Setter Property="Margin" Value="0,0,0,15"/>
            <Setter Property="Effect">
                <Setter.Value>
                    <DropShadowEffect BlurRadius="10" ShadowDepth="2" Opacity="0.1"/>
                </Setter.Value>
            </Setter>
        </Style>

        <!-- Label Style -->
        <Style x:Key="LabelStyle" TargetType="TextBlock">
            <Setter Property="FontSize" Value="13"/>
            <Setter Property="FontWeight" Value="SemiBold"/>
            <Setter Property="Foreground" Value="#333333"/>
            <Setter Property="Margin" Value="0,0,0,8"/>
        </Style>

        <!-- TextBox Style -->
        <Style x:Key="ModernTextBox" TargetType="TextBox">
            <Setter Property="Padding" Value="12,10"/>
            <Setter Property="BorderThickness" Value="1"/>
            <Setter Property="BorderBrush" Value="#E0E0E0"/>
            <Setter Property="Background" Value="White"/>
            <Setter Property="FontSize" Value="13"/>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="TextBox">
                        <Border Background="{TemplateBinding Background}" 
                                BorderBrush="{TemplateBinding BorderBrush}" 
                                BorderThickness="{TemplateBinding BorderThickness}" 
                                CornerRadius="4">
                            <ScrollViewer x:Name="PART_ContentHost" Margin="{TemplateBinding Padding}"/>
                        </Border>
                        <ControlTemplate.Triggers>
                            <Trigger Property="IsFocused" Value="True">
                                <Setter Property="BorderBrush" Value="#2196F3"/>
                            </Trigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>

        <!-- PasswordBox Style -->
        <Style x:Key="ModernPasswordBox" TargetType="PasswordBox">
            <Setter Property="Padding" Value="12,10"/>
            <Setter Property="BorderThickness" Value="1"/>
            <Setter Property="BorderBrush" Value="#E0E0E0"/>
            <Setter Property="Background" Value="White"/>
            <Setter Property="FontSize" Value="13"/>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="PasswordBox">
                        <Border Background="{TemplateBinding Background}" 
                                BorderBrush="{TemplateBinding BorderBrush}" 
                                BorderThickness="{TemplateBinding BorderThickness}" 
                                CornerRadius="4">
                            <ScrollViewer x:Name="PART_ContentHost" Margin="{TemplateBinding Padding}"/>
                        </Border>
                        <ControlTemplate.Triggers>
                            <Trigger Property="IsFocused" Value="True">
                                <Setter Property="BorderBrush" Value="#2196F3"/>
                            </Trigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>

        <!-- ComboBox Style -->
        <Style x:Key="ModernComboBox" TargetType="ComboBox">
            <Setter Property="Padding" Value="12,10"/>
            <Setter Property="BorderThickness" Value="1"/>
            <Setter Property="BorderBrush" Value="#E0E0E0"/>
            <Setter Property="Background" Value="White"/>
            <Setter Property="FontSize" Value="13"/>
        </Style>
    </Window.Resources>

    <Grid Margin="30">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>

        <!-- Header -->
        <TextBlock Grid.Row="0" Text="ðŸŒ Localization Manager" 
                   FontSize="28" FontWeight="Bold" 
                   Foreground="#2196F3" 
                   Margin="0,0,0,25"/>

        <!-- API Key Card -->
        <Border Grid.Row="1" Style="{StaticResource CardStyle}">
            <StackPanel>
                <StackPanel Orientation="Horizontal" Margin="0,0,0,10">
                    <TextBlock Text="ðŸ”‘ Google Translate API Key" Style="{StaticResource LabelStyle}" Margin="0,0,8,0"/>
                    <TextBlock Text="â„¹ï¸" FontSize="16" Cursor="Hand" ToolTipService.ShowOnDisabled="True">
                        <TextBlock.ToolTip>
                            <StackPanel MaxWidth="400">
                                <TextBlock Text="How to get API Key:" FontWeight="Bold" Margin="0,0,0,5"/>
                                <TextBlock Text="1. Go to https://console.cloud.google.com/" TextWrapping="Wrap" Margin="0,0,0,3"/>
                                <TextBlock Text="2. Create a new project or select existing one" TextWrapping="Wrap" Margin="0,0,0,3"/>
                                <TextBlock Text="3. Enable 'Cloud Translation API'" TextWrapping="Wrap" Margin="0,0,0,3"/>
                                <TextBlock Text="4. Go to 'Credentials' â†’ 'Create Credentials' â†’ 'API Key'" TextWrapping="Wrap" Margin="0,0,0,3"/>
                                <TextBlock Text="5. Copy the generated API key" TextWrapping="Wrap"/>
                            </StackPanel>
                        </TextBlock.ToolTip>
                    </TextBlock>
                </StackPanel>
                <Grid>
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="*"/>
                        <ColumnDefinition Width="Auto"/>
                    </Grid.ColumnDefinitions>
                    <PasswordBox x:Name="ApiKeyBox" Grid.Column="0" 
                                 Style="{StaticResource ModernPasswordBox}" 
                                 Margin="0,0,10,0"
                                 PasswordChanged="ApiKeyBox_PasswordChanged"/>
                    <Button x:Name="TestApiButton" Grid.Column="1" Content="Test Connection" 
                            Click="TestApiButton_Click" 
                            Style="{StaticResource SecondaryButton}" 
                            MinWidth="130"/>
                </Grid>
            </StackPanel>
        </Border>

        <!-- Source File Card -->
        <Border Grid.Row="2" Style="{StaticResource CardStyle}">
            <StackPanel>
                <TextBlock Text="ðŸ“„ Source File (localization.json)" Style="{StaticResource LabelStyle}"/>
                <Grid>
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="*"/>
                        <ColumnDefinition Width="Auto"/>
                    </Grid.ColumnDefinitions>
                    <TextBox x:Name="SourceFileTextBox" Grid.Column="0" 
                             Style="{StaticResource ModernTextBox}" 
                             IsReadOnly="True" 
                             Margin="0,0,10,0"/>
                    <Button Grid.Column="1" Content="Browse..." 
                            Click="BrowseSourceButton_Click" 
                            Style="{StaticResource ModernButton}" 
                            MinWidth="100"/>
                </Grid>
            </StackPanel>
        </Border>

        <!-- Target File Card -->
        <Border Grid.Row="3" Style="{StaticResource CardStyle}">
            <StackPanel>
                <TextBlock Text="ðŸ’¾ Target File (Output)" Style="{StaticResource LabelStyle}"/>
                <Grid>
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="*"/>
                        <ColumnDefinition Width="Auto"/>
                    </Grid.ColumnDefinitions>
                    <TextBox x:Name="TargetFileTextBox" Grid.Column="0" 
                             Style="{StaticResource ModernTextBox}" 
                             IsReadOnly="True" 
                             Margin="0,0,10,0"/>
                    <Button Grid.Column="1" Content="Browse..." 
                            Click="BrowseTargetButton_Click" 
                            Style="{StaticResource ModernButton}" 
                            MinWidth="100"/>
                </Grid>
            </StackPanel>
        </Border>

        <!-- Language Selection Card -->
        <Border Grid.Row="4" Style="{StaticResource CardStyle}">
            <StackPanel>
                <TextBlock Text="ðŸŒ Target Language" Style="{StaticResource LabelStyle}"/>
                <ComboBox x:Name="LanguageComboBox" 
                          Style="{StaticResource ModernComboBox}" 
                          SelectedIndex="0">
                    <ComboBoxItem Content="ðŸ‡·ðŸ‡º Russian (ru)" Tag="ru"/>
                    <ComboBoxItem Content="ðŸ‡ºðŸ‡¦ Ukrainian (uk)" Tag="uk"/>
                    <ComboBoxItem Content="ðŸ‡µðŸ‡± Polish (pl)" Tag="pl"/>
                    <ComboBoxItem Content="ðŸ‡©ðŸ‡ª German (de)" Tag="de"/>
                    <ComboBoxItem Content="ðŸ‡«ðŸ‡· French (fr)" Tag="fr"/>
                    <ComboBoxItem Content="ðŸ‡ªðŸ‡¸ Spanish (es)" Tag="es"/>
                    <ComboBoxItem Content="ðŸ‡®ðŸ‡¹ Italian (it)" Tag="it"/>
                    <ComboBoxItem Content="ðŸ‡µðŸ‡¹ Portuguese (pt)" Tag="pt"/>
                    <ComboBoxItem Content="ðŸ‡¨ðŸ‡³ Chinese (zh)" Tag="zh"/>
                    <ComboBoxItem Content="ðŸ‡¯ðŸ‡µ Japanese (ja)" Tag="ja"/>
                    <ComboBoxItem Content="ðŸ‡°ðŸ‡· Korean (ko)" Tag="ko"/>
                </ComboBox>
            </StackPanel>
        </Border>

        <!-- Progress and Status -->
        <StackPanel Grid.Row="5" Margin="0,10,0,0">
            <ProgressBar x:Name="ProgressBar" Height="8" 
                         Margin="0,0,0,10" 
                         Visibility="Collapsed"
                         Foreground="#4CAF50"/>
            <TextBlock x:Name="StatusTextBlock" 
                       TextWrapping="Wrap" 
                       FontSize="13" 
                       Foreground="#666666"
                       Margin="0,0,0,15"
                       Text="Ready to translate. Please configure settings above."/>
            
            <!-- Translate Button -->
            <Button Content="ðŸš€ Start Translation" 
                    Click="TranslateButton_Click" 
                    Style="{StaticResource PrimaryButton}"
                    IsEnabled="False" 
                    x:Name="TranslateButton"
                    HorizontalAlignment="Stretch"/>
        </StackPanel>
    </Grid>
</Window>
